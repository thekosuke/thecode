<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Global Site Tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106529015-1"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments)};
            gtag('js', new Date());
    
            gtag('config', 'UA-106529015-1');
        </script>
    
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="keywords" content="kosuke futsukaichi, kosuke, futsukaichi, portfolio, design, designer, graphic designer, experience designer, product designer, ux/ui, vancouver, canada">
        <meta name="description" content="Kosuke's design portfolio">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="robots" content="noodp">
        
        <meta property="og:type" content="website"/>
        <meta property="og:title" content="Kosuke"/>
        <meta property="og:image" content="img/opengraph.png"/>
        
        <title>kosuke</title>
    
        <link rel="icon" type="image/png" href="img/favicon.png">
        <link rel="apple-touch-icon" type="image/png" sizes="150x150" href="img/favicon.png"/>
    
        <link rel="stylesheet" href="css/fonts.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/grid.css">
        <link rel="stylesheet" href="css/normalize.css"> 
        <style>      
            html, body {
                margin: 0;
                width: 100%;
                height: 100%;
            }       
        </style>
    </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap" class="grid-2">
        <div><span></span></div>        

            <div id="mainDialog">

                <div id="dialogText"><h1>Enter password</h1></div>

                <div id="passArea">
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">Maybe a typo? Please try again.</span>
                            <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                            <span id="success" class="notifyText">Welcome!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button"><h1>Unlock</h1></button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>

                <div id="nocrypto" class="error">
                    <p>
                        Seems like your web browser is outdated. Please visit this page using a modern browser.
                    </p>
                </div>

            </div>

        <div><span></span></div>
    </div> 
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 200);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
